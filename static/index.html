<!DOCTYPE html>
<html>
<head>
    <title data-i18n="title">Card Sort Control</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <!-- Language Selector -->
        <div class="row mb-4">
            <div class="col">
                <div class="btn-group" role="group" aria-label="Language selection">
                    <button type="button" class="btn btn-outline-primary" onclick="setLanguage('en')">English</button>
                    <button type="button" class="btn btn-outline-primary" onclick="setLanguage('de')">Deutsch</button>
                </div>
            </div>
        </div>
        
        <div class="row">
            <div class="col-md-6">
                <h2 data-i18n="processControl">Process Control</h2>
                <div class="card mb-3">
                    <div class="card-body">
                        <form id="startForm" class="mb-3">
                            <div class="mb-3">
                                <label class="form-label" data-i18n="magazineName">Magazine Name</label>
                                <input type="text" class="form-control" id="magazinName" required>
                            </div>
                            <!-- Position and home options removed as they are now handled automatically -->
                            <button type="submit" class="btn btn-primary" data-i18n="startProcess">Start Process</button>
                        </form>
                        <div class="d-flex gap-2">
                            <button id="stopBtn" class="btn btn-warning" data-i18n="stopProcess">Stop Process</button>
                            <button id="emergencyBtn" class="btn btn-danger" data-i18n="emergencyStop">Emergency Stop</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <h2 data-i18n="status.title">Status</h2>
                <div class="card">
                    <div class="card-body">
                        <p><span data-i18n="status.currentPosition">Current Position</span>: <strong><span id="position">-</span></strong></p>
                        <p><span data-i18n="status.magazine">Magazine</span>: <strong><span id="magazine">-</span></strong></p>
                        <p><span data-i18n="status.status">Status</span>: <strong><span id="status">Stopped</span></strong></p>
                        <p><span data-i18n="status.currentRun">Current Run</span>:
                            <br><span data-i18n="status.cards">Cards</span>: <strong><span id="currentRunCards">0</span></strong>
                            <br><span data-i18n="status.time">Time</span>: <strong><span id="currentRunTime">0:00</span></strong>
                        </p>
                        <p><span data-i18n="status.totalCardsProcessed">Total Cards Processed</span>: <strong><span id="totalCards">0</span></strong></p>
                        <button id="exportBtn" class="btn btn-secondary" data-i18n="status.exportAll">Export All Cards</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="static/i18n.js"></script>
    <script src="static/main.js"></script>
</body>
</html>